(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bff7d"],{"407b":function(e,r,t){"use strict";t.r(r);var l=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"app-container"},[t("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[t("el-form-item",{attrs:{label:"菜单名称",prop:"menuName"}},[t("el-input",{attrs:{placeholder:"请输入菜单名称",clearable:""},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleQuery(r)}},model:{value:e.queryParams.menuName,callback:function(r){e.$set(e.queryParams,"menuName",r)},expression:"queryParams.menuName"}})],1),t("el-form-item",{attrs:{label:"父菜单ID",prop:"parentId"}},[t("el-input",{attrs:{placeholder:"请输入父菜单ID",clearable:""},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleQuery(r)}},model:{value:e.queryParams.parentId,callback:function(r){e.$set(e.queryParams,"parentId",r)},expression:"queryParams.parentId"}})],1),t("el-form-item",{attrs:{label:"显示顺序",prop:"orderNum"}},[t("el-input",{attrs:{placeholder:"请输入显示顺序",clearable:""},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleQuery(r)}},model:{value:e.queryParams.orderNum,callback:function(r){e.$set(e.queryParams,"orderNum",r)},expression:"queryParams.orderNum"}})],1),t("el-form-item",{attrs:{label:"路由地址",prop:"path"}},[t("el-input",{attrs:{placeholder:"请输入路由地址",clearable:""},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleQuery(r)}},model:{value:e.queryParams.path,callback:function(r){e.$set(e.queryParams,"path",r)},expression:"queryParams.path"}})],1),t("el-form-item",{attrs:{label:"组件路径",prop:"component"}},[t("el-input",{attrs:{placeholder:"请输入组件路径",clearable:""},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleQuery(r)}},model:{value:e.queryParams.component,callback:function(r){e.$set(e.queryParams,"component",r)},expression:"queryParams.component"}})],1),t("el-form-item",{attrs:{label:"路由参数",prop:"query"}},[t("el-input",{attrs:{placeholder:"请输入路由参数",clearable:""},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleQuery(r)}},model:{value:e.queryParams.query,callback:function(r){e.$set(e.queryParams,"query",r)},expression:"queryParams.query"}})],1),t("el-form-item",{attrs:{label:"是否为外链",prop:"isFrame"}},[t("el-input",{attrs:{placeholder:"请输入是否为外链",clearable:""},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleQuery(r)}},model:{value:e.queryParams.isFrame,callback:function(r){e.$set(e.queryParams,"isFrame",r)},expression:"queryParams.isFrame"}})],1),t("el-form-item",{attrs:{label:"是否缓存",prop:"isCache"}},[t("el-input",{attrs:{placeholder:"请输入是否缓存",clearable:""},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleQuery(r)}},model:{value:e.queryParams.isCache,callback:function(r){e.$set(e.queryParams,"isCache",r)},expression:"queryParams.isCache"}})],1),t("el-form-item",{attrs:{label:"菜单状态",prop:"visible"}},[t("el-input",{attrs:{placeholder:"请输入菜单状态",clearable:""},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleQuery(r)}},model:{value:e.queryParams.visible,callback:function(r){e.$set(e.queryParams,"visible",r)},expression:"queryParams.visible"}})],1),t("el-form-item",{attrs:{label:"权限标识",prop:"perms"}},[t("el-input",{attrs:{placeholder:"请输入权限标识",clearable:""},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleQuery(r)}},model:{value:e.queryParams.perms,callback:function(r){e.$set(e.queryParams,"perms",r)},expression:"queryParams.perms"}})],1),t("el-form-item",{attrs:{label:"菜单图标",prop:"icon"}},[t("el-input",{attrs:{placeholder:"请输入菜单图标",clearable:""},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleQuery(r)}},model:{value:e.queryParams.icon,callback:function(r){e.$set(e.queryParams,"icon",r)},expression:"queryParams.icon"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),t("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),t("el-row",{staticClass:"mb8",attrs:{gutter:10}},[t("el-col",{attrs:{span:1.5}},[t("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["order:userMenu:add"],expression:"['order:userMenu:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),t("el-col",{attrs:{span:1.5}},[t("el-button",{attrs:{type:"info",plain:"",icon:"el-icon-sort",size:"mini"},on:{click:e.toggleExpandAll}},[e._v("展开/折叠")])],1),t("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(r){e.showSearch=r},"update:show-search":function(r){e.showSearch=r},queryTable:e.getList}})],1),e.refreshTable?t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userMenuList,"row-key":"menuId","default-expand-all":e.isExpandAll,"tree-props":{children:"children",hasChildren:"hasChildren"}}},[t("el-table-column",{attrs:{label:"菜单名称",prop:"menuName"}}),t("el-table-column",{attrs:{label:"父菜单ID",align:"center",prop:"parentId"}}),t("el-table-column",{attrs:{label:"显示顺序",align:"center",prop:"orderNum"}}),t("el-table-column",{attrs:{label:"路由地址",align:"center",prop:"path"}}),t("el-table-column",{attrs:{label:"组件路径",align:"center",prop:"component"}}),t("el-table-column",{attrs:{label:"路由参数",align:"center",prop:"query"}}),t("el-table-column",{attrs:{label:"是否为外链",align:"center",prop:"isFrame"}}),t("el-table-column",{attrs:{label:"是否缓存",align:"center",prop:"isCache"}}),t("el-table-column",{attrs:{label:"菜单类型",align:"center",prop:"menuType"}}),t("el-table-column",{attrs:{label:"菜单状态",align:"center",prop:"visible"}}),t("el-table-column",{attrs:{label:"菜单状态",align:"center",prop:"status"}}),t("el-table-column",{attrs:{label:"权限标识",align:"center",prop:"perms"}}),t("el-table-column",{attrs:{label:"菜单图标",align:"center",prop:"icon"}}),t("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),t("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["order:userMenu:edit"],expression:"['order:userMenu:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(t){return e.handleUpdate(r.row)}}},[e._v("修改")]),t("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["order:userMenu:add"],expression:"['order:userMenu:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(t){return e.handleAdd(r.row)}}},[e._v("新增")]),t("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["order:userMenu:remove"],expression:"['order:userMenu:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.handleDelete(r.row)}}},[e._v("删除")])]}}],null,!1,1554380614)})],1):e._e(),t("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(r){e.open=r}}},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"菜单名称",prop:"menuName"}},[t("el-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:e.form.menuName,callback:function(r){e.$set(e.form,"menuName",r)},expression:"form.menuName"}})],1),t("el-form-item",{attrs:{label:"父菜单ID",prop:"parentId"}},[t("treeselect",{attrs:{options:e.userMenuOptions,normalizer:e.normalizer,placeholder:"请选择父菜单ID"},model:{value:e.form.parentId,callback:function(r){e.$set(e.form,"parentId",r)},expression:"form.parentId"}})],1),t("el-form-item",{attrs:{label:"显示顺序",prop:"orderNum"}},[t("el-input",{attrs:{placeholder:"请输入显示顺序"},model:{value:e.form.orderNum,callback:function(r){e.$set(e.form,"orderNum",r)},expression:"form.orderNum"}})],1),t("el-form-item",{attrs:{label:"路由地址",prop:"path"}},[t("el-input",{attrs:{placeholder:"请输入路由地址"},model:{value:e.form.path,callback:function(r){e.$set(e.form,"path",r)},expression:"form.path"}})],1),t("el-form-item",{attrs:{label:"组件路径",prop:"component"}},[t("el-input",{attrs:{placeholder:"请输入组件路径"},model:{value:e.form.component,callback:function(r){e.$set(e.form,"component",r)},expression:"form.component"}})],1),t("el-form-item",{attrs:{label:"路由参数",prop:"query"}},[t("el-input",{attrs:{placeholder:"请输入路由参数"},model:{value:e.form.query,callback:function(r){e.$set(e.form,"query",r)},expression:"form.query"}})],1),t("el-form-item",{attrs:{label:"是否为外链",prop:"isFrame"}},[t("el-input",{attrs:{placeholder:"请输入是否为外链"},model:{value:e.form.isFrame,callback:function(r){e.$set(e.form,"isFrame",r)},expression:"form.isFrame"}})],1),t("el-form-item",{attrs:{label:"是否缓存",prop:"isCache"}},[t("el-input",{attrs:{placeholder:"请输入是否缓存"},model:{value:e.form.isCache,callback:function(r){e.$set(e.form,"isCache",r)},expression:"form.isCache"}})],1),t("el-form-item",{attrs:{label:"菜单状态",prop:"visible"}},[t("el-input",{attrs:{placeholder:"请输入菜单状态"},model:{value:e.form.visible,callback:function(r){e.$set(e.form,"visible",r)},expression:"form.visible"}})],1),t("el-form-item",{attrs:{label:"权限标识",prop:"perms"}},[t("el-input",{attrs:{placeholder:"请输入权限标识"},model:{value:e.form.perms,callback:function(r){e.$set(e.form,"perms",r)},expression:"form.perms"}})],1),t("el-form-item",{attrs:{label:"菜单图标",prop:"icon"}},[t("el-input",{attrs:{placeholder:"请输入菜单图标"},model:{value:e.form.icon,callback:function(r){e.$set(e.form,"icon",r)},expression:"form.icon"}})],1),t("el-form-item",{attrs:{label:"备注",prop:"remark"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(r){e.$set(e.form,"remark",r)},expression:"form.remark"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),t("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],a=(t("14d9"),t("b775"));function o(e){return Object(a["a"])({url:"/order/userMenu/list",method:"get",params:e})}function s(e){return Object(a["a"])({url:"/order/userMenu/"+e,method:"get"})}function i(e){return Object(a["a"])({url:"/order/userMenu",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/order/userMenu",method:"put",data:e})}function m(e){return Object(a["a"])({url:"/order/userMenu/"+e,method:"delete"})}var c=t("ca17"),p=t.n(c),d=(t("542c"),{name:"UserMenu",components:{Treeselect:p.a},data:function(){return{loading:!0,showSearch:!0,userMenuList:[],userMenuOptions:[],title:"",open:!1,isExpandAll:!0,refreshTable:!0,queryParams:{menuName:null,parentId:null,orderNum:null,path:null,component:null,query:null,isFrame:null,isCache:null,menuType:null,visible:null,status:null,perms:null,icon:null},form:{},rules:{menuName:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(r){e.userMenuList=e.handleTree(r.data,"menuId","parentId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.menuId,label:e.menuName,children:e.children}},getTreeselect:function(){var e=this;o().then((function(r){e.userMenuOptions=[];var t={menuId:0,menuName:"顶级节点",children:[]};t.children=e.handleTree(r.data,"menuId","parentId"),e.userMenuOptions.push(t)}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={menuId:null,menuName:null,parentId:null,orderNum:null,path:null,component:null,query:null,isFrame:null,isCache:null,menuType:null,visible:null,status:"0",perms:null,icon:null,createBy:null,createTime:null,updateBy:null,updateTime:null,remark:null},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(e){this.reset(),this.getTreeselect(),null!=e&&e.menuId?this.form.parentId=e.menuId:this.form.parentId=0,this.open=!0,this.title="添加商户菜单权限"},toggleExpandAll:function(){var e=this;this.refreshTable=!1,this.isExpandAll=!this.isExpandAll,this.$nextTick((function(){e.refreshTable=!0}))},handleUpdate:function(e){var r=this;this.reset(),this.getTreeselect(),null!=e&&(this.form.parentId=e.menuId),s(e.menuId).then((function(e){r.form=e.data,r.open=!0,r.title="修改商户菜单权限"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(r){r&&(null!=e.form.menuId?u(e.form).then((function(r){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):i(e.form).then((function(r){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var r=this;this.$modal.confirm('是否确认删除商户菜单权限编号为"'+e.menuId+'"的数据项？').then((function(){return m(e.menuId)})).then((function(){r.getList(),r.$modal.msgSuccess("删除成功")})).catch((function(){}))}}}),f=d,h=t("2877"),y=Object(h["a"])(f,l,n,!1,null,null,null);r["default"]=y.exports}}]);